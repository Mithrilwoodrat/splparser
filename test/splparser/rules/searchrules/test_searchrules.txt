
Below are clips from an interactive session in which I test various aspects of the parser.

>>> import splparser.parser

>>> splparser.parse("search foo").print_tree()
('ROOT')
    ('STAGE')
        ('COMMAND': 'search')
            ('FUNCTION': 'contains')
                ('VALUE': 'foo')

>>> splparser.parse("search foo | search bar").print_tree()
('ROOT')
    ('STAGE')
        ('COMMAND': 'search')
            ('FUNCTION': 'contains')
                ('VALUE': 'foo')
    ('STAGE')
        ('COMMAND': 'search')
            ('FUNCTION': 'contains')
                ('VALUE': 'bar')
 
>>> splparser.parse("search 123").print_tree()
('ROOT')
    ('STAGE')
        ('COMMAND': 'search')
            ('FUNCTION': 'contains')
                ('VALUE': '123')

>>> splparser.parse("search 12.34.12.34").print_tree()
('ROOT')
    ('STAGE')
        ('COMMAND': 'search')
            ('FUNCTION': 'contains')
                ('VALUE': '12.34.12.34')

>>> splparser.parse('search "literal with spaces"').print_tree()
('ROOT')
    ('STAGE')
        ('COMMAND': 'search')
            ('FUNCTION': 'contains')
                ('VALUE': '"literal with spaces"')

>>> splparser.parse('search "word"').print_tree()
('ROOT')
    ('STAGE')
        ('COMMAND': 'search')
            ('FUNCTION': 'contains')
                ('VALUE': '"word"')

>>> splparser.parse('search callme@maybe.com').print_tree()
('ROOT')
    ('STAGE')
        ('COMMAND': 'search')
            ('FUNCTION': 'contains')
                ('VALUE': 'callme@maybe.com')

>>> splparser.parse('search 3.0').print_tree()
('ROOT')
    ('STAGE')
        ('COMMAND': 'search')
            ('FUNCTION': 'contains')
                ('VALUE': '3.0')

>>> splparser.parse('search you AND this').print_tree()
('ROOT')
    ('STAGE')
        ('COMMAND': 'search')
            ('FUNCTION': 'AND')
                ('FUNCTION': 'contains')
                    ('VALUE': 'you')
                ('FUNCTION': 'contains')
                    ('VALUE': 'this')

>>> splparser.parse('search just, met, you').print_tree()
('ROOT')
    ('STAGE')
        ('COMMAND': 'search')
            ('FUNCTION': 'AND')
                ('FUNCTION': 'contains')
                    ('VALUE': 'just')
                ('FUNCTION': 'contains')
                    ('VALUE': 'met')
                ('FUNCTION': 'contains')
                    ('VALUE': 'you')

>>> splparser.parse('search all OR the AND other').print_tree()
('ROOT')
    ('STAGE')
        ('COMMAND': 'search')
            ('FUNCTION': 'OR')
                ('FUNCTION': 'contains')
                    ('VALUE': 'all')
                ('FUNCTION': 'AND')
                    ('FUNCTION': 'contains')
                        ('VALUE': 'the')
                    ('FUNCTION': 'contains')
                        ('VALUE': 'other')

>>> splparser.parse('search host=value').print_tree()
('ROOT')
    ('STAGE')
        ('COMMAND': 'search')
            ('FUNCTION': 'eq')
                ('DEFAULT_FIELD': 'host')
                ('VALUE': 'value')

>>> splparser.parse('search sourcetype=hey').print_tree()
('ROOT')
    ('STAGE')
        ('COMMAND': 'search')
            ('FUNCTION': 'eq')
                ('DEFAULT_FIELD': 'sourcetype')
                ('VALUE': 'hey')

>>> splparser.parse('search NOT "your mom"').print_tree()
('ROOT')
    ('STAGE')
        ('COMMAND': 'search')
            ('FUNCTION': 'NOT')
                ('FUNCTION': 'contains')
                    ('VALUE': '"your mom"')

>>> splparser.parse('search index="gi_app" TransactionException NOT tourRef="*" "name=" | rex field=_raw "name= (?<table>.*)"').print_tree()
('ROOT')
    ('STAGE')
        ('COMMAND': 'search')
            ('FUNCTION': 'AND')
                ('FUNCTION': 'eq')
                    ('DEFAULT_FIELD': 'index')
                    ('VALUE': '"gi_app"')
                ('FUNCTION': 'contains')
                    ('VALUE': 'TransactionException')
                ('FUNCTION': 'NOT')
                    ('FUNCTION': 'eq')
                        ('FIELD': 'tourRef')
                        ('VALUE': '"*"')
                ('FUNCTION': 'contains')
                    ('VALUE': '"name="')
    ('STAGE')
        ('COMMAND': 'rex')
            ('EQ': 'assign')
                ('OPTION': 'field')
                ('FIELD': '_raw')
            ('VALUE': '"name= (?<table>.*)"')
