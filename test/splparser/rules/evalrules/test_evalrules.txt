
Below are clips from an interactive session in which I test various aspects of the parser.

>>> import splparser.parser

>>> splparser.parse('eval report_duration="1 Day"').print_tree()
('ROOT')
    ('STAGE')
        ('EVAL')
            ('EQ')
                ('ID': 'report_duration')
                ('LITERAL': '"1 Day"')

>>> splparser.parse('eval detailed_report="Timestamp=".end_time." - New_HPA_notinHPAlist=".New_HPA_notinHPAlist." - New_HPA_SSO=".New_HPA_SSO." - New_hpa_business=".New_hpa_business." -  HPA_group_added_to=".HPA_group_added_to." -  host_role=".host_role." - OperatorAccount=".OperatorAccount." -  Operator_SSO=".Operator_SSO." -  Operator_business=".Operator_business." -  dest_host=".dest_host." -  dest_businessunit=".dest_businessunit." ;"').print_tree()
('ROOT')
    ('STAGE')
        ('EVAL')
            ('EQ')
                ('ID': 'detailed_report')
                ('CONCAT')
                    ('NBSTR': '"Timestamp="')
                    ('ID': 'end_time')
                    ('LITERAL': '" - New_HPA_notinHPAlist="')
                    ('ID': 'New_HPA_notinHPAlist')
                    ('LITERAL': '" - New_HPA_SSO="')
                    ('ID': 'New_HPA_SSO')
                    ('LITERAL': '" - New_hpa_business="')
                    ('ID': 'New_hpa_business')
                    ('LITERAL': '" -  HPA_group_added_to="')
                    ('ID': 'HPA_group_added_to')
                    ('LITERAL': '" -  host_role="')
                    ('ID': 'host_role')
                    ('LITERAL': '" - OperatorAccount="')
                    ('WORD': 'OperatorAccount')
                    ('LITERAL': '" -  Operator_SSO="')
                    ('ID': 'Operator_SSO')
                    ('LITERAL': '" -  Operator_business="')
                    ('ID': 'Operator_business')
                    ('LITERAL': '" -  dest_host="')
                    ('ID': 'dest_host')
                    ('LITERAL': '" -  dest_businessunit="')
                    ('ID': 'dest_businessunit')
                    ('NBSTR': '" ;"')

>>> splparser.parse("eval dest_host=lower(dest_host)").print_tree()
('ROOT')
    ('STAGE')
        ('EVAL')
            ('EQ')
                ('ID': 'dest_host')
                ('LOWER')
                    ('ID': 'dest_host')

>>> splparser.parse("eval notrequired=nullif(user,user_effected)").print_tree()
('ROOT')
    ('STAGE')
        ('EVAL')
            ('EQ')
                ('WORD': 'notrequired')
                ('NULLIF')
                    ('WORD': 'user')
                    ('ID': 'user_effected')

>>> splparser.parse('eval status_user=case(authority_allobj=="Y","HPAUser",authority_secadm=="Y","HPAUser")').print_tree()
('ROOT')
    ('STAGE')
        ('EVAL')
            ('EQ')
                ('ID': 'status_user')
                ('CASE')
                    ('DEQ')
                        ('ID': 'authority_allobj')
                        ('WORD': '"Y"')
                    ('WORD': '"HPAUser"')
                    ('DEQ')
                        ('ID': 'authority_secadm')
                        ('WORD': '"Y"')
                    ('WORD': '"HPAUser"')

>>> splparser.parse("eval figure=round(patchable_defects/endpoint_opportunities, 2)").print_tree()
('ROOT')
    ('STAGE')
        ('EVAL')
            ('EQ')
                ('WORD': 'figure')
                ('ROUND')
                    ('DIVIDE')
                        ('ID': 'patchable_defects')
                        ('ID': 'endpoint_opportunities')
                    ('INT': '2')

>>> splparser.parse("eval count=tmp1-tmp2").print_tree()
('ROOT')
    ('STAGE')
        ('EVAL')
            ('EQ')
                ('WORD': 'count')
                ('MINUS')
                    ('ID': 'tmp1')
                    ('ID': 'tmp2')

>>> splparser.parse('eval Company=case(Vendor LIKE "%MS1%" OR Vendor LIKE "%MS0%" OR Title LIKE "%KB%","Microsoft",Vendor LIKE "%APS%","Adobe",Title LIKE "%Java%","Java")').print_tree()
('ROOT')
    ('STAGE')
        ('EVAL')
            ('EQ')
                ('WORD': 'Company')
                ('CASE')
                    ('OR')
                        ('LIKE')
                            ('WORD': 'Vendor')
                            ('NBSTR': '"%MS1%"')
                        ('LIKE')
                            ('WORD': 'Vendor')
                            ('NBSTR': '"%MS0%"')
                        ('LIKE')
                            ('WORD': 'Title')
                            ('NBSTR': '"%KB%"')
                    ('WORD': '"Microsoft"')
                    ('LIKE')
                        ('WORD': 'Vendor')
                        ('NBSTR': '"%APS%"')
                    ('WORD': '"Adobe"')
                    ('LIKE')
                        ('WORD': 'Title')
                        ('NBSTR': '"%Java%"')
                    ('WORD': '"Java"')

>>> splparser.parse("eval visitor_value_buyers_only = round(total_revenue/visitors_with_transactions, 2)").print_tree()
('ROOT')
    ('STAGE')
        ('EVAL')
            ('EQ')
                ('ID': 'visitor_value_buyers_only')
                ('ROUND')
                    ('DIVIDE')
                        ('ID': 'total_revenue')
                        ('ID': 'visitors_with_transactions')
                    ('INT': '2')

>>> splparser.parse('eval visitor_conversion_rate_buyers_only = tostring(round(Transactions/visitors_with_transactions*100, 2))."%"').print_tree()
('ROOT')
    ('STAGE')
        ('EVAL')
            ('EQ')
                ('ID': 'visitor_conversion_rate_buyers_only')
                ('CONCAT')
                    ('TOSTRING')
                        ('ROUND')
                            ('DIVIDE')
                                ('WORD': 'Transactions')
                                ('TIMES')
                                    ('ID': 'visitors_with_transactions')
                                    ('INT': '100')
                            ('INT': '2')
                    ('NBSTR': '"%"')
