>>> import splparser

>>> splparser.parse("append [search foo]").print_tree()
('ROOT')
    ('STAGE')
        ('APPEND')
            ('SUBSEARCH')
                ('ROOT')
                    ('STAGE')
                        ('SEARCH')
                            ('WORD': 'foo')

>>> splparser.parse("append maxtime=100 [search test | sort test]").print_tree()
('ROOT')
    ('STAGE')
        ('APPEND')
            ('MAXTIME')
                ('INT': '100')
            ('SUBSEARCH')
                ('ROOT')
                    ('STAGE')
                        ('SEARCH')
                            ('WORD': 'test')
                    ('STAGE')
                        ('SORT')
                            ('ASCENDING')
                                ('WORD': 'test')

>>> splparser.parse("append maxtime=100 maxout=50 timeout=10 [search test | sort test | top 5 lol by rofl]").print_tree()
('ROOT')
    ('STAGE')
        ('APPEND')
            ('MAXTIME')
                ('INT': '100')
            ('MAXOUT')
                ('INT': '50')
            ('TIMEOUT')
                ('INT': '10')
            ('SUBSEARCH')
                ('ROOT')
                    ('STAGE')
                        ('SEARCH')
                            ('WORD': 'test')
                    ('STAGE')
                        ('SORT')
                            ('ASCENDING')
                                ('WORD': 'test')
                    ('STAGE')
                        ('TOP')
                            ('INT': '5')
                            ('WORD': 'lol')
                            ('BY')
                                ('WORD': 'rofl')

>>> splparser.parse("append [search foo | append [search foo]]").print_tree()
('ROOT')
    ('STAGE')
        ('APPEND')
            ('SUBSEARCH')
                ('ROOT')
                    ('STAGE')
                        ('SEARCH')
                            ('WORD': 'foo')
                    ('STAGE')
                        ('APPEND')
                            ('SUBSEARCH')
                                ('ROOT')
                                    ('STAGE')
                                        ('SEARCH')
                                            ('WORD': 'foo')
