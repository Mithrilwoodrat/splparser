
Below are clips from an interactive session in which I test various aspects of the parser.

>>> import splparser.parser

>>> splparser.parse("bucket _time span=5m").print_tree()
('ROOT')
    ('STAGE')
        ('COMMAND': 'bucket')
            ('INTERNAL_FIELD': '_time')
            ('EQ': 'assign')
                ('OPTION': 'span')
                ('VALUE': '5m')

>>> splparser.parse("bucket size bins=10").print_tree()
('ROOT')
    ('STAGE')
        ('COMMAND': 'bucket')
            ('FIELD': 'size')
            ('EQ': 'assign')
                ('OPTION': 'bins')
                ('VALUE': '10')

>>> splparser.parse("bucket span=1d _time as date_only").print_tree()
('ROOT')
    ('STAGE')
        ('COMMAND': 'bucket')
            ('EQ': 'assign')
                ('OPTION': 'span')
                ('VALUE': '1d')
            ('FUNCTION': 'as')
                ('INTERNAL_FIELD': '_time')
                ('FIELD': 'date_only')

>>> splparser.parse('bucket _time span="1h"').print_tree()
('ROOT')
    ('STAGE')
        ('COMMAND': 'bucket')
            ('INTERNAL_FIELD': '_time')
            ('EQ': 'assign')
                ('OPTION': 'span')
                ('VALUE': '"1h"')

>>> splparser.parse("bucket span=0.5 SALE_PRICE").print_tree()
('ROOT')
    ('STAGE')
        ('COMMAND': 'bucket')
            ('EQ': 'assign')
                ('OPTION': 'span')
                ('VALUE': '0.5')
            ('FIELD': 'SALE_PRICE')

>>> splparser.parse("bucket lag bins=4  span=15").print_tree()
('ROOT')
    ('STAGE')
        ('COMMAND': 'bucket')
            ('FIELD': 'lag')
            ('EQ': 'assign')
                ('OPTION': 'bins')
                ('VALUE': '4')
            ('EQ': 'assign')
                ('OPTION': 'span')
                ('VALUE': '15')

>>> splparser.parse("bucket span=10 cache_kbytes").print_tree()
('ROOT')
    ('STAGE')
        ('COMMAND': 'bucket')
            ('EQ': 'assign')
                ('OPTION': 'span')
                ('VALUE': '10')
            ('FIELD': 'cache_kbytes')

>>> splparser.parse("bin _time span=10log2").print_tree()
('ROOT')
    ('STAGE')
        ('COMMAND': 'bucket')
            ('INTERNAL_FIELD': '_time')
            ('EQ': 'assign')
                ('OPTION': 'span')
                ('VALUE': '10log2')

>>> splparser.parse("bin size end=10").print_tree()
('ROOT')
    ('STAGE')
        ('COMMAND': 'bucket')
            ('FIELD': 'size')
            ('EQ': 'assign')
                ('OPTION': 'end')
                ('VALUE': '10')

NOTE(salspaugh): These are erroneous but appeared in the logs:
    splparser.parse("bucket -time=5m").print_tree()
    splparser.parse("bucket (userId count) span=100").print_tree()
